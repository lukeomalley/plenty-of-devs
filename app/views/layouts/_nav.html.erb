<script>
  const indicator = document.querySelector('.nav-indicator');
  const items = document.querySelectorAll('.nav-item');

  function handleIndicator(el) {
    items.forEach(item => {
      item.classList.remove('is-active');
      item.removeAttribute('style');
    });
    
    indicator.style.width = `${el.offsetWidth}px`;
    indicator.style.left = `${el.offsetLeft}px`;
    indicator.style.backgroundColor = el.getAttribute('active-color');

    el.classList.add('is-active');
    el.style.color = el.getAttribute('active-color');
  }


  items.forEach((item, index) => {
    item.addEventListener('click', (e) => { handleIndicator(e.target)});
    item.classList.contains('is-active') && handleIndicator(item);
  });
</script>

<nav class="nav">
  <a href="/" class="nav-item is-active" active-color="orange">Home</a>
  <a href="/matches" class="nav-item is-active" active-color="orange">My Matches</a>
  <a href="<%=user_path(1)%>" class="nav-item" active-color="rebeccapurple">Profile</a>
  <%= link_to "Logout", destroy_user_session_path, method: :delete, class: "nav-item"%>
</nav>